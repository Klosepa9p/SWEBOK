# ğŸª¶ Flyweight Design Pattern

## ğŸ“Œ Nedir?
**Flyweight**, Ã§ok sayÄ±da nesne Ã¼retmek zorunda olduÄŸumuzda bellek kullanÄ±mÄ±nÄ± optimize etmeye yarayan **yapÄ±sal (structural) bir tasarÄ±m desenidir**.  
Temel amaÃ§, **aynÄ± olan (paylaÅŸÄ±lan) verileri tek bir yerde saklayarak** tekrar tekrar kullanÄ±lmasÄ±nÄ± saÄŸlamak; sadece farklÄ± olan (deÄŸiÅŸken) verileri ayrÄ± tutmaktÄ±r.

---

## ğŸ§© NasÄ±l Ã‡alÄ±ÅŸÄ±r?
- Nesneleri iki kÄ±sma bÃ¶ler:
  - **Intrinsic (iÃ§sel) durum:** DeÄŸiÅŸmeyen ve paylaÅŸÄ±labilir kÄ±sÄ±m (Ã¶rneÄŸin: bir karakterin fontu, rengi).
  - **Extrinsic (dÄ±ÅŸsal) durum:** Her nesneye Ã¶zel ve deÄŸiÅŸebilen kÄ±sÄ±m (Ã¶rneÄŸin: karakterin belgedeki konumu).

- AynÄ± intrinsic durum iÃ§in **tek bir nesne** oluÅŸturulur.
- Birden fazla yerde bu nesneye ihtiyaÃ§ duyulduÄŸunda **yeni nesne yaratmak yerine mevcut nesne paylaÅŸÄ±lÄ±r**.

---

## ğŸ“¦ AvantajlarÄ±
âœ… **Bellek tasarrufu saÄŸlar** â€“ Ã§ok sayÄ±da benzer nesne Ã¼retileceÄŸi durumlarda ciddi kazanÃ§ saÄŸlar.  
âœ… **PerformansÄ± artÄ±rÄ±r** â€“ tekrar eden nesnelerin sadece bir defa Ã¼retilmesi yeterlidir.  
âœ… Kodun yapÄ±sÄ±nÄ± daha temiz hale getirir.

---

## âš ï¸ DezavantajlarÄ±
â— YapÄ± daha karmaÅŸÄ±k hale gelebilir; **extrinsic ve intrinsic** verilerin yÃ¶netimi dikkat ister.  
â— Ã‡ok sayÄ±da benzersiz (extrinsic) veri varsa, kazanÃ§ azalÄ±r.

---

## ğŸ—ï¸ KullanÄ±m Ã–rneÄŸi
- YazÄ± editÃ¶rÃ¼: Belgede binlerce aynÄ± karakter var, hepsi iÃ§in ayrÄ± nesne yaratmak yerine; `char` deÄŸeri, font tipi gibi intrinsic durumlar paylaÅŸÄ±lÄ±r, sadece pozisyon extrinsic olarak tutulur.
- Oyunlarda: Binlerce aynÄ± dÃ¼ÅŸman birimi, aÄŸaÃ§ veya taÅŸ gibi nesnelerin ortak Ã¶zellikleri paylaÅŸÄ±lÄ±r.

---

## âœï¸ KÄ±saca Ã–zet
> **Flyweight Design Pattern**, bÃ¼yÃ¼k sayÄ±da nesne Ã¼retmek yerine, **ortak olanlarÄ± paylaÅŸarak** bellek ve performans kazancÄ± saÄŸlar.
> Ã–zellikle grafik motorlarÄ±, yazÄ± editÃ¶rleri gibi yoÄŸun nesne kullanan sistemlerde Ã§ok etkilidir.



## ğŸ§© Temel fark
|                     | Flyweight                                          | Prototype                                      |
|---------------------|----------------------------------------------------|------------------------------------------------|
| **Nesnelerin yapÄ±sÄ±** | Ortak (intrinsic) ve farklÄ± (extrinsic) kÄ±sÄ±mlar | Mevcut nesnenin tÃ¼m Ã¶zellikleri kopyalanÄ±r     |
| **PaylaÅŸÄ±m**        | Nesneler paylaÅŸÄ±lÄ±r, aynÄ± nesne birÃ§ok yerde kullanÄ±lÄ±r | Her klon ayrÄ± nesnedir, paylaÅŸÄ±lmaz           |
| **Hedef**           | Bellekten tasarruf (Ã¶zellikle Ã§ok sayÄ±da benzer nesnede) | KarmaÅŸÄ±k nesneleri hÄ±zlÄ± Ã¼retmek               |
| **KullanÄ±m yeri**   | YazÄ± editÃ¶rÃ¼, grafik motorlarÄ± (aÄŸaÃ§, taÅŸ vb.)    | Oyun karakteri, form ÅŸablonu, belge kopyasÄ±   |

---

## âœï¸ Ã–zet
- **Flyweight**: "Nesneyi paylaÅŸ, aynÄ± nesneyi tekrar kullan."
- **Prototype**: "Nesneyi klonla, yeni bir Ã¶rnek oluÅŸtur."

> âš¡ Ä°kisinin de asÄ±l amacÄ± performans ve kaynak tasarrufu saÄŸlamak olsa da,  
> kullandÄ±klarÄ± yaklaÅŸÄ±m ve Ã§Ã¶zÃ¼m tamamen farklÄ±dÄ±r.

 Prototype deseni, nesneyi yaratÄ±rken karÅŸÄ±mÄ±za Ã§Ä±kan problemi Ã§Ã¶zÃ¼yor. Flyweight design pattern ise zaten oluÅŸturulmuÅŸ nesneleri belleÄŸe aktarÄ±yor! Yani hali hazÄ±rda bellekte olan nesnelerin bir kombinasyonunu oluÅŸturuyorsunuz. SonuÃ§ olarak birbirlerine benzemelerine karÅŸÄ±n, pratikte oldukÃ§a farklÄ± iki iÅŸleve sahip desenlerden bahsediyoruz.



## ğŸ“Ã–rnek AÃ§Ä±klamasÄ±

- **CharacterFlyweight**  
  Flyweight sÄ±nÄ±fÄ±dÄ±r; ortak (*intrinsic*) Ã¶zellikleri tutar:  
  - sembol
  - font
  - boyut  
  `display` fonksiyonu, harici (*extrinsic*) durumlarÄ± (Ã¶rneÄŸin, pozisyon) parametre olarak alÄ±r.

- **FlyweightFactory**  
  Flyweight nesnelerini oluÅŸturur ve yeniden kullanÄ±r.  
  AynÄ± Ã¶zelliklere sahip bir Flyweight zaten varsa, yeni bir nesne oluÅŸturmak yerine mevcut olanÄ± dÃ¶ndÃ¼rÃ¼r.

- **TextEditor (Client)**  
  Client sÄ±nÄ±fÄ±dÄ±r; `FlyweightFactory` kullanarak karakterleri ekler ve gÃ¶rÃ¼ntÃ¼ler.

- **Anahtar OluÅŸturma**  
  `createKey` fonksiyonu, Flyweight nesnelerini benzersiz ÅŸekilde tanÄ±mlamak iÃ§in bir anahtar Ã¼retir.

- **ğŸ’¾ Bellek Tasarrufu**  
  AynÄ± Ã¶zelliklere sahip karakterler (Ã¶r: `'A'`, *Arial*, `12`) iÃ§in yalnÄ±zca bir Flyweight nesnesi oluÅŸturulur ve paylaÅŸÄ±lÄ±r.  
  BÃ¶ylece Ã§ok sayÄ±da karakter kullanÄ±lan senaryolarda ciddi bellek tasarrufu saÄŸlanÄ±r.
